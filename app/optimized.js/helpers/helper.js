define(["jquery","backbone","helpers/constants"],function(e,t,n){"use strict";var r="3.4.1",i="3.3.1",s="1.10.4",o="1.11.2",u={getJSONFile:function(t){var n;return e.ajax({async:!1,datatype:"json",url:t,success:function(e){n=e},error:function(e,n,r){throw new Error("JSON could not be loaded: "+t+" (status: "+n+", message: "+r.message+")")}}),typeof n=="object"?n:JSON.parse(n)},getFile:function(t){var n;return e.ajax({async:!1,url:t,success:function(e){n=e},error:function(e,n,r){throw new Error("File could not be loaded: "+t+" (status: "+n+", message: "+r.message+")")}}),n},getTemplateLocation:function(e){var t=n.markupLocation+e+".html";return t},getContentLocation:function(e,t){var r=n.contentLocation+e+t+".json";return r},getCobrandLocation:function(){return n.cobrandLocation},buildURL:function(){var e;return String(window.location).indexOf("#")>=0?e=window.location.pathname+window.location.hash.replace("#","?"):e=window.location.pathname+window.location.search,e=e.replace(/&/g,"$"),e},setMetaContent:function(t){var r=n[t+"MetaContent"];r&&r.length>0&&e("meta[name=description]").attr("content",r)},scrollToTop:function(){var t=e("body");e("html,body").animate({scrollTop:t.offset().top},300)},scrollToElement:function(t){var n=e(t);e("body,html").animate({scrollTop:n.offset().top-80},100),n.focus()},GlobalFunctions:function(){e(function(){e(".AssetsVersion").text(r),e(".BSVersion").text(i),e(".JqueryUIVersion").text(s),e(".JqueryVersion").text(o),e("a[role=button], button").off("keydown").on("keydown",function(t){return t.which===32&&(e(this).trigger("click"),t.stopPropagation(),t.preventDefault()),!0})}),this.jumpLink()},updateTitle:function(){var t=e("h1").text()=="Assets Framework"?"Home":e("h1").text();document.title="Assets Framework | "+t},closeModal:function(){e(".contentWrap").length>0&&e(".contentWrap.ui-dialog-content").A11ydialog("destroy")},GoogleGTM:function(){e(function(e,t,n,r,i){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var s=t.getElementsByTagName(n)[0],o=t.createElement(n),u=r!="dataLayer"?"&l="+r:"";o.async=!0,o.src="//www.googletagmanager.com/gtm.js?id="+i+u,s.parentNode.insertBefore(o,s)}(window,document,"script","dataLayer",GTMContainerID))},jumpLink:function(t){e(".jumpLink").each(function(){var t=e(this).attr("href");e(t).attr("tabindex","-1")}).on("click",function(t){var n=e(this).attr("href");t.preventDefault(),e(n).focus()})},screenWidthDetection:function(){e("body").append('<div id="screen-indicator" tabindex="-1" aria-hidden="true"></div>')}};return u});